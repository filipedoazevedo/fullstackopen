{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleSearchChange","search","onChange","value","PersonForm","addNewName","handleNameChange","newName","newNumber","handleNumberChange","onSubmit","type","Person","person","deletePerson","style","margin","name","number","onClick","Persons","filteredPersons","map","baseUrl","axios","get","then","response","data","newPerson","post","id","delete","newObject","put","Notification","notification","className","message","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","setNotification","useEffect","personsService","catch","setTimeout","filter","p","toLowerCase","includes","event","target","preventDefault","repeatedPerson","find","nameObject","window","confirm","createdPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.11214ff3.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({handleSearchChange, search}) => (\r\n  <div>\r\n    filter show with <input onChange={handleSearchChange} value={search} />\r\n  </div>\r\n);\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  addNewName,\r\n  handleNameChange,\r\n  newName,\r\n  newNumber,\r\n  handleNumberChange,\r\n}) => (\r\n  <form onSubmit={addNewName}>\r\n    <div>\r\n      name: <input onChange={handleNameChange} value={newName} />\r\n    </div>\r\n    <div>\r\n      number: <input onChange={handleNumberChange} value={newNumber} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Person = ({ person, deletePerson }) => (\r\n  <p style={{ margin: \"0px\" }}>\r\n    {person.name} {person.number} <button onClick={() => deletePerson(person)}>delete</button>\r\n  </p>\r\n);\r\n\r\nconst Persons = ({ filteredPersons, deletePerson }) => (\r\n  <div>\r\n    {filteredPersons.map((person) => (\r\n      <Person key={person.name} person={person} deletePerson={deletePerson} />\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default Persons;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newPerson) => {\r\n  const request = axios.post(baseUrl, newPerson);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\r\nexport default {\r\n  getAll,\r\n  create,\r\n  remove,\r\n  update,\r\n};\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (notification === null) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={notification.className}>{notification.message}</div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Persons from \"./components/Persons\";\r\nimport personsService from \"./services/persons\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [search, setSearch] = useState(\"\");\r\n  const [notification, setNotification] = useState(null);\r\n\r\n  const handleNameChange = (event) => setNewName(event.target.value);\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\r\n  const handleSearchChange = (event) => setSearch(event.target.value);\r\n\r\n  const addNewName = (event) => {\r\n    event.preventDefault();\r\n\r\n    const repeatedPerson = persons.find((p) => p.name === newName);\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n\r\n    if (repeatedPerson) {\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        return personsService.update(repeatedPerson.id, nameObject)\r\n        .then(() => {\r\n          setNotification({\r\n              message: `The number of ${newName} was edited`,\r\n              className: 'success',\r\n            }\r\n          )\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 5000)\r\n          setPersons(persons.map(p => p.id !== repeatedPerson.id ? p : nameObject))\r\n        }).catch(() => {\r\n          setNotification({\r\n              message: `Information of ${newName} has already been removed from server`,\r\n              className: 'error',\r\n            }\r\n          )\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 5000)\r\n          setPersons(persons.filter(p => p.id !== repeatedPerson.id))\r\n        });\r\n      } \r\n      return;\r\n    }\r\n\r\n    personsService.create(nameObject)\r\n      .then((createdPerson) => {\r\n        setPersons(persons.concat(createdPerson));\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n        setNotification({\r\n            message: `Added ${newName}`,\r\n            className: 'success',\r\n          }\r\n        )\r\n        setTimeout(() => {\r\n          setNotification(null)\r\n        }, 5000)\r\n      }).catch(() => {\r\n        setNotification({\r\n            message: `There was an error adding information of ${newName}`,\r\n            className: 'error',\r\n          }\r\n        )\r\n        setTimeout(() => {\r\n          setNotification(null)\r\n        }, 5000)\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    personsService.getAll().then((persons) => {\r\n      setPersons(persons);\r\n    }).catch(() => {\r\n      setNotification({\r\n          message: `There was an error getting persons`,\r\n          className: 'error',\r\n        }\r\n      )\r\n      setTimeout(() => {\r\n        setNotification(null)\r\n      }, 5000)\r\n    })\r\n  }, []);\r\n\r\n  const filteredPersons = persons.filter((p) =>\r\n    p.name.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  const deletePerson = function(person) {\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      personsService.remove(person.id)\r\n      .then(() => {\r\n        setPersons(persons.filter(p => p.id !== person.id));\r\n      }).catch(() => {\r\n        setNotification({\r\n            message: `There was an error getting persons`,\r\n            className: 'error',\r\n          }\r\n        )\r\n        setTimeout(() => {\r\n          setNotification(null)\r\n        }, 5000)\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification notification={notification} />\r\n      <Filter handleSearchChange={handleSearchChange} search={search} />\r\n      <h3>Add a new</h3>\r\n      <PersonForm\r\n        addNewName={addNewName}\r\n        handleNameChange={handleNameChange}\r\n        newName={newName}\r\n        handleNumberChange={handleNumberChange}\r\n        newNumber={newNumber}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <Persons filteredPersons={filteredPersons} deletePerson={deletePerson} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n"],"sourceRoot":""}